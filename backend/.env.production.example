# ============================================
# PRODUCTION ENVIRONMENT VARIABLES
# ============================================
# Copy this file and fill in real values
# NEVER commit the actual .env file to git!
# ============================================

# Server Configuration
NODE_ENV=production
PORT=3000
API_URL=https://stolentee-backend-production.up.railway.app
FRONTEND_URL=https://your-vercel-url.vercel.app

# ============================================
# DATABASE (REQUIRED)
# ============================================
# Get from: Supabase Dashboard > Settings > Database
# Format: postgresql://postgres.[PROJECT_ID]:[PASSWORD]@aws-0-us-west-1.pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.dntnjlodfcojzgovikic:YOUR_NEW_DB_PASSWORD@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# ============================================
# JWT AUTHENTICATION (REQUIRED)
# ============================================
# Your new secure JWT secret (already generated):
JWT_SECRET=2237091da65ea2ba563632d43932bfb85b45ddd4a7bfeb882e4979d94882bece53b204cfeeeabf50a9f5b7c824b0397f0a7a5c507760a09e684bea7f556019d0
JWT_EXPIRES_IN=7d

# ============================================
# STRIPE PAYMENT GATEWAY (REQUIRED)
# ============================================
# TEST MODE (for testing):
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_YOUR_REAL_TEST_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_REAL_TEST_KEY

# Webhook Secret (for test mode):
# Get from: https://dashboard.stripe.com/test/webhooks
STRIPE_WEBHOOK_SECRET=whsec_test_YOUR_REAL_WEBHOOK_SECRET

# LIVE MODE (when ready for real money):
# Get from: https://dashboard.stripe.com/apikeys
# STRIPE_SECRET_KEY=sk_live_YOUR_REAL_LIVE_KEY
# STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_REAL_LIVE_KEY
# STRIPE_WEBHOOK_SECRET=whsec_live_YOUR_REAL_WEBHOOK_SECRET

# ============================================
# SUPABASE STORAGE (REQUIRED)
# ============================================
# Get from: Supabase Dashboard > Settings > API
SUPABASE_URL=https://dntnjlodfcojzgovikic.supabase.co
SUPABASE_SERVICE_KEY=YOUR_NEW_SERVICE_ROLE_KEY

# ============================================
# AI SERVICES (REQUIRED FOR EXTRACTION)
# ============================================
# Gemini API (for design extraction)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=YOUR_GEMINI_API_KEY

# Remove.bg API (stored in database via SQL)
# Get from: https://remove.bg/api#remove-background
# Run this SQL in Supabase:
# INSERT INTO settings (key, value) VALUES ('removebg_api_key', 'YOUR_KEY')
# ON CONFLICT (key) DO UPDATE SET value = EXCLUDED.value;

# ============================================
# REDIS (REQUIRED FOR JOB QUEUE)
# ============================================
# Railway provides this automatically as ${{Redis.REDIS_URL}}
# Or use external Redis provider
REDIS_URL=redis://default:password@redis-host:6379

# ============================================
# ERROR MONITORING (RECOMMENDED)
# ============================================
# Get from: https://sentry.io (create project)
SENTRY_DSN=https://your-key@o123456.ingest.sentry.io/123456
SENTRY_DEBUG=false

# ============================================
# EMAIL (OPTIONAL - for order confirmations)
# ============================================
# Example with SendGrid:
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=YOUR_SENDGRID_API_KEY
SMTP_FROM_EMAIL=noreply@stolentee.com
SMTP_FROM_NAME=StolenTee

# ============================================
# STORAGE CONFIGURATION
# ============================================
USE_LOCAL_STORAGE=false
# LOCAL_STORAGE_PATH=./uploads  # Only for local dev

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_FILE_SIZE_MB=25
ALLOWED_FILE_TYPES=image/png,image/jpeg,image/svg+xml

# ============================================
# INFRASTRUCTURE OPTIMIZATION (OPTIONAL)
# ============================================
# Self-hosted Remove.bg alternative
# REMBG_ENDPOINT=https://your-rembg-service.railway.app

# Cloudflare R2 for cheaper storage
# R2_ENDPOINT=https://your-account.r2.cloudflarestorage.com
# R2_ACCESS_KEY_ID=your_r2_access_key
# R2_SECRET_ACCESS_KEY=your_r2_secret_key
# R2_BUCKET=stolentee-uploads
